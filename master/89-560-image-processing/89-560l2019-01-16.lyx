#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\date{}
\usepackage{fancyhdr}
\fancyhead{}
\fancyfoot{}
\setlength{\headsep}{50pt}
\setlength{\columnseprule}{1pt}
\chead{
\inputencoding{cp1255}
\subsection*{
\selectlanguage{hebrew}
עיבוד תמונות
\\
\selectlanguage{english}
89-560-01
}%
}
\rhead{
\inputencoding{cp1255}
\small{
\textbf{מקליד}:
{עידן אריה}
\\
\textbf{מרצה}:
{פרופ' נתן נתניהו}
\\
\textbf{תאריך:}
\beginL
2019-01-16
\endL
\\
}
}
\end_preamble
\use_default_options true
\begin_modules
enumitem
\end_modules
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 2
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\topmargin 3cm
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle fancy
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Labeling
\labelwidthstring 00.00.0000
הערות: 
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
ישירות מההגדרה נובע ש
\lang english
DFT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מחזורית.
 כלומר עבור תמונה בגודל 
\begin_inset Formula $N\times N$
\end_inset

 מתקיים:
\begin_inset Formula 
\[
F\left(u,v\right)=F\left(u+N,v\right)=F\left(u,v+N\right)=F\left(u+N,v+N\right)
\]

\end_inset


\end_layout

\begin_layout Itemize
אמנם 
\begin_inset Formula $F$
\end_inset

 חוזרת על עצמה באופן אינסופי, אבל דרוש רק מחזור אחד )חלון בגודל 
\begin_inset Formula $N\times N$
\end_inset

( כדי לקבל את 
\begin_inset Formula $f\left(x,y\right)$
\end_inset

.
\end_layout

\begin_layout Itemize
במידה ו
\begin_inset Formula $f\left(x,y\right)$
\end_inset

 ממשי, מתקיים:
\begin_inset Formula 
\[
F\left(u,v\right)=F^{*}\left(-u,-v\right)
\]

\end_inset

)
\begin_inset Formula $F^{*}$
\end_inset

 = צמוד קומפלקסי(
\begin_inset Formula 
\[
\left|F\left(u,v\right)\right|=\left|F\left(-u,-v\right)\right|
\]

\end_inset


\end_layout

\begin_layout Itemize
כדי לקבל את תמונת הספקטרום הרצויה בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\begin_inset Formula $N-1$
\end_inset

 יש לבצע הזזה בשיעור 
\begin_inset Formula $\frac{N}{2}$
\end_inset

 )במישור התדר(:
\begin_inset Formula 
\[
f\left(x\right)e^{i\frac{2\pi}{N}u_{0}x}\iff F\left(u-u_{0}\right)
\]

\end_inset

נציב 
\begin_inset Formula $u_{0}=\frac{N}{2}$
\end_inset

 ונקבל:
\begin_inset Formula 
\[
e^{i\frac{2\pi}{N}\frac{N}{2}x}=e^{i\pi x}=\left(-1\right)^{x}
\]

\end_inset


\end_layout

\begin_deeper
\begin_layout Labeling
\labelwidthstring 00.00.0000
מסקנה: ניתן להכפיל תחילה את 
\begin_inset Formula $f\left(x\right)$
\end_inset

 ב
\begin_inset Formula $\left(-1\right)^{x}$
\end_inset

 ורק אז לבצע את ההתמרה.
 במקום לעשות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
fftshift
\lang hebrew
.
\end_layout

\begin_layout Itemize
במקרה הדו-מימדי - כדי להעתיק את הספקטרום הדיסקרטי 
\begin_inset Formula $F\left(u,v\right)$
\end_inset

 ל
\begin_inset Formula $\left(\frac{N}{2},\frac{N}{2}\right)$
\end_inset

, יש להכפיל את 
\begin_inset Formula $f\left(x,y\right)$
\end_inset

 ב
\begin_inset Formula $\left(-1\right)^{x+y}$
\end_inset

.
\end_layout

\end_deeper
\end_deeper
\begin_layout Part*
התמרת פוריה המהירה 
\lang english
Fast Fourier Transform
\end_layout

\begin_layout Standard
עדיין מדברים על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
DFT
\lang hebrew
.
 נתמקד במקרה החד-מימדי:
\begin_inset Formula 
\[
F\left(u\right)=\frac{1}{N}\sum_{x=0}^{N-1}f\left(x\right)e^{-i\frac{2\pi}{N}ux}\qquad u=0,1,\dots N-1
\]

\end_inset

האלגוריתם הנאיבי )
\lang english
brute force
\lang hebrew
( ירוץ בסיבוכיות 
\begin_inset Formula $O\left(N^{2}\right)$
\end_inset

.
 ננסה לשפר את זמן הריצה באמצעות שיטת הפרד ומשול.
\end_layout

\begin_layout Section*
שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Colley and Tukey
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\numeric on
1965
\numeric off
(
\end_layout

\begin_layout Standard
עובדים בנפרד על הדגימות ה
\begin_inset Quotes erd
\end_inset

זוגיות
\begin_inset Quotes erd
\end_inset

 והדגימות ה
\begin_inset Quotes erd
\end_inset

אי-זוגיות
\begin_inset Quotes erd
\end_inset

.
 כלומר - נפרק את 
\begin_inset Formula $F\left(u\right)$
\end_inset

 בצורה הבאה:
\begin_inset Formula 
\[
F\left(u\right)=\frac{1}{N}\sum_{x=0}^{\frac{N}{2}-1}f\left(2x\right)e^{-i\frac{2\pi}{N}u\left(2x\right)}+\frac{1}{N}\sum_{x=0}^{\frac{N}{2}-1}f\left(2x+1\right)e^{-i\frac{2\pi}{N}u\left(2x+1\right)}
\]

\end_inset

ממשיכים לפתח באופן רקורסיבי, עד שבעלים התמרת פוריה של ערך בודד היא הוא עצמו,
 ואז מחברים באמצעות:
\begin_inset Formula 
\[
F\left(u\right)=\frac{1}{2}\left(F_{\textnormal{even}}^{\frac{N}{2}}\left(u\right)+F_{\textnormal{odd}}^{\frac{N}{2}}\left(u\right)e^{-i\frac{2\pi}{N}u}\right)
\]

\end_inset


\begin_inset Formula 
\[
f\left(u+\frac{N}{2}\right)=F_{\textnormal{even}}^{\frac{N}{2}}\left(u\right)-F_{\textnormal{odd}}^{\frac{N}{2}}\left(u\right)e^{-i\frac{2\pi}{N}u}
\]

\end_inset

עבור 
\begin_inset Formula $u=0,1,\dots,\frac{N}{2}-1$
\end_inset


\end_layout

\begin_layout Standard
עבור סיגנל חד-מימדי הסיבוכיות של זה היא 
\begin_inset Formula $O\left(n\log n\right)$
\end_inset

, וכאשר מבצעים על תמונה מגודל 
\begin_inset Formula $N\times N$
\end_inset

 צריך 
\begin_inset Formula $O\left(N^{2}\log N\right)$
\end_inset

 פעולות.
\end_layout

\begin_layout Subsection*
הנוסחה עבור המקרה הדו-מימדי
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
F\left(u,v\right)=\frac{1}{N^{2}}\sum_{y=0}^{N-1}\sum_{x=0}^{N-1}f\left(x,y\right)K\left(x,u,y,v\right)
\]

\end_inset

כאשר
\begin_inset Formula 
\[
K\left(x,u,y,v\right)=e^{-i\frac{2\pi}{N}\left(xu+yv\right)}
\]

\end_inset

ואפשר לפרק אותו לשני קרנלים:
\begin_inset Formula 
\[
K_{1}\left(x,u\right)=e^{-i\frac{2\pi}{N}xu}\qquad K_{2}\left(y,v\right)=e^{-i\frac{2\pi}{N}yv}
\]

\end_inset

ואז:
\begin_inset Formula 
\[
F\left(u,v\right)=\frac{1}{N}\sum_{y=0}^{N-1}\left\{ \frac{1}{N}\sum_{x=0}^{N-1}f\left(x,y\right)K_{1}\left(x,u\right)\right\} K_{2}\left(y,v\right)
\]

\end_inset

כלומר עבור כל עמודה בודדת 
\begin_inset Formula $y$
\end_inset

 יש לנו את 
\begin_inset Formula $\frac{1}{N}\sum\limits _{x=0}^{N-1}f\left(x,y\right)K_{1}\left(x,u\right)$
\end_inset

 - התמרת פורייה חד-מימדית.
 יש לנו 
\begin_inset Formula $N$
\end_inset

 התמרות חד-מימדיות כאלה - סה
\begin_inset Quotes erd
\end_inset

כ יעלה לנו 
\begin_inset Formula $O\left(N\log N\right)$
\end_inset

 לחשב כל עמודה, ואת כל העמודות 
\begin_inset Formula $O\left(N^{2}\log N\right)$
\end_inset

.
 אחרי שעושים את זה אפשר לחשב את התמרות הפוריה של כל שורה )לפי התוצאות של
 ההתמרות מהעמודות( - גם זה עולה 
\begin_inset Formula $O\left(N^{2}\log N\right)$
\end_inset

, וסה
\begin_inset Quotes erd
\end_inset

כ עלות החישוב היא 
\begin_inset Formula $O\left(N^{2}\log N\right)$
\end_inset

.
\end_layout

\begin_layout Section*
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\lang english
Low Pass Filter
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם פרופיל של פונקציית מדרגה
\end_layout

\begin_layout Standard
יש תמונה מקורית 
\begin_inset Formula $f\left(x,y\right)$
\end_inset

, ועושים לו עיבוד במישור התדר 
\begin_inset Formula $G\left(u,v\right)=F\left(u,v\right)\cdot H\left(u,v\right)$
\end_inset

:
\begin_inset Formula 
\[
H\left(u,v\right)=\begin{cases}
1 & D\left(u,v\right)\le D_{0}\\
0 & D\left(u,v\right)>D_{0}
\end{cases}
\]

\end_inset

כאשר 
\begin_inset Formula $D\left(u,v\right)=\sqrt{u^{2}+v^{2}}$
\end_inset

 זה הרדיוס של 
\begin_inset Formula $\left(u,v\right)$
\end_inset

 מהמרכז ו
\begin_inset Formula $D_{0}$
\end_inset

 זה רדיוס המעגל.
 בעצם איפסנו את כל התדרים הגבוהים מ
\begin_inset Formula $D_{0}$
\end_inset

.
\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
נשים
\begin_inset space ~
\end_inset


\begin_inset Formula $\heartsuit$
\end_inset

: מצד אחד התדרים הגבוהים מזוהים עם רעש )שינוי מהיר(, ומצד שני הם גם מזוהים
 עם פרטים אמיתיים בתמונה )שפות(
\end_layout

\begin_layout Section*
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\lang english
LPF
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Butterworth
\end_layout

\begin_layout Standard
לא בטוח שפרופיל מדרגה זה מה שאנחנו רוצים - אולי עדיף משהו פחות חד:
\begin_inset Formula 
\[
H\left(u,v\right)=\frac{1}{1+\left(\frac{D\left(u,v\right)}{D_{0}}\right)^{2n}}
\]

\end_inset


\end_layout

\begin_layout Labeling
\labelwidthstring 00.00.0000
נשים
\begin_inset space ~
\end_inset

לב: 
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
כאשר 
\begin_inset Formula $D\left(u,v\right)=D_{0}$
\end_inset

 הערך הוא 
\begin_inset Formula $\frac{1}{2}$
\end_inset

.
\end_layout

\begin_layout Itemize
כאשר 
\begin_inset Formula $D\left(u,v\right)=0$
\end_inset

, 
\begin_inset Formula $H\left(u,v\right)=\frac{1}{1+0^{2n}}=1$
\end_inset


\end_layout

\begin_layout Itemize
כאשר 
\begin_inset Formula $D\left(u,v\right)\to\infty$
\end_inset

, 
\begin_inset Formula $H\left(u,v\right)\to\frac{1}{1+\infty^{2n}}\to0$
\end_inset


\end_layout

\begin_layout Itemize
עבור 
\begin_inset Formula $n$
\end_inset

ים שונים מקבלים עקומות שונות.
\end_layout

\end_deeper
\begin_layout Section*
ומה במקרה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
High Pass Filter
\lang hebrew
?
\end_layout

\begin_layout Standard
כמו קודם, רק הפוך.
 עבור מדרגה:
\begin_inset Formula 
\[
H\left(u,v\right)=\begin{cases}
0 & D\left(u,v\right)\le D_{0}\\
1 & D\left(u,v\right)>D_{0}
\end{cases}
\]

\end_inset

ועבור
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Butterworth
\lang hebrew
:
\begin_inset Formula 
\[
H\left(u,v\right)=\frac{1}{1+\left(\frac{D_{0}}{D\left(u,v\right)}\right)^{2n}}
\]

\end_inset


\end_layout

\begin_layout Section*
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\lang english
Band Pass Filtering
\end_layout

\begin_layout Standard
כאשר אנחנו מעוניינים להעביר תחום מסויים של תדרים, כדי להתמקד בתופעות מסויימות
 שמעניינות אותנו:
\begin_inset Formula 
\[
H\left(u,v\right)=\begin{cases}
0 & D\left(u,v\right)\le D_{0}-\frac{w}{2}\\
1 & D_{0}-\frac{w}{2}\le D\left(u,v\right)<D_{0}+\frac{w}{2}\\
0 & D\left(u,v\right)>D_{0}+\frac{w}{2}
\end{cases}
\]

\end_inset


\end_layout

\begin_layout Section*
\begin_inset ERT
status open

\begin_layout Plain Layout

\end_layout

\end_inset


\lang english
High Frequency Enphasis
\end_layout

\begin_layout Standard
כאשר רוצים להדגיש את השפות:
\begin_inset Formula 
\[
H'\left(u,v\right)=K_{0}+H\left(u,v\right)
\]

\end_inset

כאשר בד
\begin_inset Quotes erd
\end_inset

כ 
\begin_inset Formula $K_{0}=1$
\end_inset

.
\end_layout

\begin_layout Standard
כאן לא נוגעים בתדרים הנמוכים, ופשוט מגדילים את התדרים הגבוהים.
\end_layout

\end_body
\end_document
